[{"title":"移动电商APP搭建（一） 架构设计","url":"/2020/04/21/Android/MobileShop/ms-frame/","content":"> 正在学习搭建一个完整的APP，由于工作量较大，时间跨度较长，这里分为几个阶段，不定时更新\n>> 主要有五个阶段\n>>> 架构设计\n开发首页和会员模块\n开发商品展示模块\n开发购物车和移动支付模块\n适配与发布\n\n## 架构设计\n> 架构设计主要是搭建框架\n\n### 初始化项目\n> 先把必要的依赖导进来\n```java\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    implementation 'androidx.recyclerview:recyclerview:1.2.0-alpha02'\n    implementation 'com.nostra13.universalimageloader:universal-image-loader:1.9.5' //URL\n    implementation 'org.greenrobot:greendao:3.1.1'\n    implementation 'org.greenrobot:greendao-generator:3.2.2'\n    implementation 'com.google.code.gson:gson:2.8.5'\n    implementation 'com.squareup.okhttp3:okhttp:3.14.2'\n    implementation 'com.squareup.okio:okio:1.17.4'\n    implementation 'com.squareup.okhttp3:logging-interceptor:3.2.0'\n    implementation 'com.squareup.retrofit2:retrofit:2.0.2'\n    implementation 'com.squareup.retrofit2:converter-gson:2.0.2'\n    implementation 'com.squareup.retrofit2:adapter-rxjava:2.0.2'\n    implementation 'io.reactivex:rxandroid:1.2.1'\n    implementation 'io.reactivex:rxjava:1.1.6'\n}\n```\n\n> 还有AndroidManifest.xml中的必要的一些，还有将引导页设置为开启页\n\n![架构设计](/images/Android/mobileshop/frame/internet.png)\n![true](/images/Android/mobileshop/frame/true.png)\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        package=\"com.huatec.edu.mobileshop\">\n\n    <uses-permission android:name=\"android.permission.INTERNET\"/>\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/>\n\n    <application\n            android:name=\".common.MyApplication\"\n            android:allowBackup=\"true\"\n            android:icon=\"@drawable/mall\"\n            android:label=\"@string/app_name\"\n            android:roundIcon=\"@mipmap/ic_launcher_round\"\n            android:supportsRtl=\"true\"\n            android:theme=\"@style/AppTheme\">\n            android:usesCleartextTraffic=\"true\">\n        <activity android:name=\".activity.AdActivity\"></activity>\n        <activity android:name=\".activity.SplashActivity\">\n            <intent-filter>\n                <action android:name=\"android.intent.action.MAIN\" />\n\n                <category android:name=\"android.intent.category.LAUNCHER\" />\n            </intent-filter>\n        </activity>\n        <activity android:name=\".activity.BaseActivity\" />\n        <activity android:name=\".activity.MainActivity\"></activity>\n    </application>\n\n</manifest>\n```\n\n### 合理化设计包结构，添加资源文件夹\n![package](/images/Android/mobileshop/frame/package.png)\n![explain](/images/Android/mobileshop/frame/explain.png)\n![add](/images/Android/mobileshop/frame/add.png)\n![res](/images/Android/mobileshop/frame/res.png)\n\n### 搭建主页框架\n#### 主页结构分析\n> 采用Activity+Fragment相结合\n![layout](/images/Android/mobileshop/frame/layout.png)\n\n#### 主界面实现\n> activity_main.xml\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\">\n\n    <FrameLayout\n            android:id=\"@+id/main_frame\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_weight=\"1\">\n    </FrameLayout>\n</RelativeLayout>\n```\n\n> MainActivity\n```java\npackage com.huatec.edu.mobileshop.activity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentTransaction;\n\nimport com.huatec.edu.mobileshop.R;\nimport com.huatec.edu.mobileshop.fragment.NavigationFragment;\n\npublic class MainActivity extends AppCompatActivity {\n    private NavigationFragment navigationFragment;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //1.实例化自定义fragment\n        NavigationFragment navigationFragment = new NavigationFragment();\n        //2.获取FragmentManager\n        FragmentManager fragmentManager = getSupportFragmentManager();\n        //3.获取FragmentTransaction去动态加载\n        FragmentTransaction transaction = fragmentManager.beginTransaction();\n        transaction.add(R.id.main_frame,navigationFragment);\n        transaction.commit();\n    }\n\n\n    /**\n     * 切换下方的tab标签\n     *\n     * @param index\n     */\n    public void changeTab(int index) {\n        switch (index) {\n            case 1:\n                this.navigationFragment.setTabSelection(R.id.tab_item_home);\n                break;\n            case 2:\n                this.navigationFragment.setTabSelection(R.id.tab_item_category);\n                break;\n            case 3:\n                this.navigationFragment.setTabSelection(R.id.tab_item_cart);\n                break;\n            case 4:\n                this.navigationFragment.setTabSelection(R.id.tab_item_personal);\n                break;\n        }\n    }\n\n    @Override\n    protected void onNewIntent(Intent intent) {\n        String action = intent.getStringExtra(\"action\");\n        if (\"toIndex\".equals(action)) {\n            changeTab(1);\n        }\n    }\n\n    /**\n     * 点击返回按键监听\n     */\n    @Override\n    public void onBackPressed() {\n        if (navigationFragment.currentId != R.id.tab_item_home) {\n            changeTab(1);\n            return;\n        }\n        super.onBackPressed();\n    }\n\n}\n```\n\n> fragment_navigation.xml\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\">\n\n    <FrameLayout\n            android:id=\"@+id/content\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"0dip\"\n            android:layout_weight=\"1\">\n    </FrameLayout>\n\n    <RelativeLayout\n        android:id=\"@+id/main_tab_bottom\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"48dip\"\n        android:layout_alignParentBottom=\"true\"\n        android:background=\"#333333\">\n        <include layout=\"@layout/tab\" />\n    </RelativeLayout>\n\n</LinearLayout>\n```\n\n> NavigationFragment\n```java\npackage com.huatec.edu.mobileshop.fragment;\n\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageButton;\nimport android.widget.LinearLayout;\n\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentTransaction;\n\nimport com.huatec.edu.mobileshop.R;\n\n\npublic class NavigationFragment extends BaseFragment implements View.OnClickListener{\n\n    private LinearLayout tabItemHome;\n    private LinearLayout tabItemCategory;\n    private LinearLayout tabItemCart;\n    private LinearLayout tabItemPersonal;\n\n    private ImageButton tabItemHomeBtn;\n    private ImageButton tabItemCategoryBtn;\n    private ImageButton tabItemCartBtn;\n    private ImageButton tabItemPersonalBtn;\n\n\n    private HomeFragment homeFragment;\n    private CategoryFragment categoryFragment;\n    private CartFragment cartFragment;\n    private PersonFragment personFragment;\n\n    private FragmentManager fragmentManager;\n\n    public int currentId;\n\n    public NavigationFragment() {\n    }\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_navigation, container, false);\n        initViews(view);\n        setTabSelection(R.id.tab_item_home);\n        return view;\n    }\n\n    //初始化视图对象\n    private void initViews(View view) {\n        tabItemHome = (LinearLayout) view.findViewById(R.id.tab_item_home);\n        tabItemHome.setOnClickListener(this);\n        tabItemCategory = (LinearLayout) view.findViewById(R.id.tab_item_category);\n        tabItemCategory.setOnClickListener(this);\n        tabItemCart = (LinearLayout) view.findViewById(R.id.tab_item_cart);\n        tabItemCart.setOnClickListener(this);\n        tabItemPersonal = (LinearLayout) view.findViewById(R.id.tab_item_personal);\n        tabItemPersonal.setOnClickListener(this);\n\n        tabItemHomeBtn = (ImageButton) view.findViewById(R.id.tab_item_home_btn);\n        tabItemCategoryBtn = (ImageButton) view.findViewById(R.id.tab_item_category_btn);\n        tabItemCartBtn = (ImageButton) view.findViewById(R.id.tab_item_cart_btn);\n        tabItemPersonalBtn = (ImageButton) view.findViewById(R.id.tab_item_personal_btn);\n\n\n        fragmentManager = getFragmentManager();\n    }\n\n    @Override\n    public void onClick(View v) {\n        setTabSelection(v.getId());\n    }\n\n    public void setTabSelection(int id){\n        //重置所有tabItem状态\n        tabItemHomeBtn.setImageResource(R.drawable.tab_item_home_focus);\n        tabItemCategoryBtn.setImageResource(R.drawable.tab_item_category_focus);\n        tabItemCartBtn.setImageResource(R.drawable.tab_item_cart_focus);\n        tabItemPersonalBtn.setImageResource(R.drawable.tab_item_personal_focus);\n\n\n        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n        //隐藏所有Fragment\n        if(homeFragment != null) {\n            fragmentTransaction.hide(homeFragment);\n        }\n        if(categoryFragment != null) {\n            fragmentTransaction.hide(categoryFragment);\n        }\n        if(cartFragment != null) {\n            fragmentTransaction.hide(cartFragment);\n        }\n        if(personFragment != null) {\n            fragmentTransaction.hide(personFragment);\n        }\n\n        //根据tabItem的id来执行不同的操作\n        switch(id){\n            case R.id.tab_item_home:\n                tabItemHomeBtn.setImageResource(R.drawable.tab_item_home_normal);\n                if(homeFragment == null){\n                    homeFragment = new HomeFragment();\n                    fragmentTransaction.add(R.id.content, homeFragment);\n                }else{\n                    fragmentTransaction.show(homeFragment);\n                }\n                break;\n            case R.id.tab_item_category:\n                tabItemCategoryBtn.setImageResource(R.drawable.tab_item_category_normal);\n                if(categoryFragment == null){\n                    categoryFragment = new CategoryFragment();\n                    fragmentTransaction.add(R.id.content, categoryFragment);\n                }else{\n                    fragmentTransaction.show(categoryFragment);\n                }\n                break;\n            case R.id.tab_item_cart:\n                tabItemCartBtn.setImageResource(R.drawable.tab_item_cart_normal);\n                if(cartFragment == null){\n                    cartFragment = new CartFragment();\n                    fragmentTransaction.add(R.id.content, cartFragment);\n                }else{\n                    fragmentTransaction.show(cartFragment);\n                }\n                break;\n            case R.id.tab_item_personal:\n                tabItemPersonalBtn.setImageResource(R.drawable.tab_item_personal_normal);\n                if(personFragment == null){\n                    personFragment = new PersonFragment();\n                    fragmentTransaction.add(R.id.content, personFragment);\n                }else{\n                    fragmentTransaction.show(personFragment);\n                }\n                break;\n        }\n        fragmentTransaction.commit();\n        currentId = id;\n    }\n}\n```\n\n##### 四个页面框架\n\n> home 首页 fragment_home.xml\n\n![首页](/images/Android/mobileshop/frame/home.jpg?size=300x600)\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\">\n\n    <TextView\n            android:gravity=\"center\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:text=\"首页\"\n            android:textSize=\"20sp\"/>\n\n</LinearLayout>\n```\n\n> category 分类 fragment_category.xml\n\n![分类](/images/Android/mobileshop/frame/category.jpg?size=300x600)\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\">\n\n        <TextView\n                android:gravity=\"center\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:text=\"分类\"\n                android:textSize=\"20sp\"/>\n\n</LinearLayout>\n```\n\n> cart 购物车 fragment_cart.xml\n\n![购物车](/images/Android/mobileshop/frame/cart.jpg?size=300x600)\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<RelativeLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"fill_parent\">\n\n    <TextView\n            android:gravity=\"center\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:text=\"购物车\"\n            android:textSize=\"20sp\"/>\n\n</RelativeLayout>\n```\n\n> person 我的 fragment_person.xml\n\n![我的](/images/Android/mobileshop/frame/person.jpg?size=300x600)\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<RelativeLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"fill_parent\">\n\n    <TextView\n            android:gravity=\"center\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:text=\"我的\"\n            android:textSize=\"20sp\"/>\n\n</RelativeLayout>\n```\n\n## 设计引导页和广告页\n> 在设计引导页和广告页之前，先构建三个通用类 Constants ImageLoaderManager MyApplication\n+ Constants\n```java\npackage com.huatec.edu.mobileshop.common;\n\n/**\n * Created by Administrator on 2016/9/26.\n */\n\npublic class Constants {\n    /**\n     * 广告显示时长 ，单位：ms\n     */\n    public static int AD_TIME_SECOND = 3000;\n    /**\n     * Base url\n     */\n    public static String BASE_URL = \"http://192.168.31.238:8080/MobileShop/\";\n    /**\n     * 广告url\n     */\n//    public static String AD_URL = BASE_URL + \"\";\n    public static String AD_URL = \"http://e.hiphotos.baidu.com/image/pic/item/a1ec08fa513d2697e542494057fbb2fb4316d81e.jpg\"+\"\";\n    public static String API_KEY_FOR_MOB_SMS = \"182489edf1060\";\n    public static String API_SECRET_FOR_MOB_SMS = \"5955939eb23eb90c2baa227f87de43a0\";\n\n    /**\n     * 列表页面右侧列表的列数\n     */\n    public static int SPAN_COUNT = 3;\n}\n```\n\n+ ImageLoaderManager\n```java\npackage com.huatec.edu.mobileshop.common;\n\nimport android.content.Context;\nimport android.graphics.Bitmap;\nimport android.os.Handler;\n\nimport com.huatec.edu.mobileshop.R;\nimport com.nostra13.universalimageloader.cache.disc.naming.HashCodeFileNameGenerator;\nimport com.nostra13.universalimageloader.core.DisplayImageOptions;\nimport com.nostra13.universalimageloader.core.ImageLoader;\nimport com.nostra13.universalimageloader.core.ImageLoaderConfiguration;\nimport com.nostra13.universalimageloader.core.assist.ImageScaleType;\nimport com.nostra13.universalimageloader.core.display.SimpleBitmapDisplayer;\nimport com.nostra13.universalimageloader.core.download.BaseImageDownloader;\nimport com.nostra13.universalimageloader.utils.StorageUtils;\n\nimport java.io.File;\n\n/**\n * Created by Administrator on 2016/8/31.\n */\npublic class ImageLoaderManager {\n    private static ImageLoaderManager mInstance;\n    public static ImageLoaderManager getInstance() {\n        if (mInstance == null) {\n            synchronized (ImageLoaderManager.class) {\n                if (mInstance == null) {\n                    mInstance = new ImageLoaderManager();\n                }\n            }\n        }\n        return mInstance;\n    }\n    public ImageLoaderManager() {\n        if (mInstance == null) {\n            //采用自定义配置\n            ImageLoader.getInstance().init(customImageLoaderConfig(MyApplication.getContext()));\n\n            //采用默认配置\n            ImageLoader.getInstance().init(defaultImageLoaderConfig());\n        }\n    }\n    //Image-loader框架默认配置\n    private ImageLoaderConfiguration defaultImageLoaderConfig() {\n        return ImageLoaderConfiguration.createDefault(MyApplication.getContext());\n    }\n\n    //Image-loader框架自定义配置\n    private ImageLoaderConfiguration customImageLoaderConfig(Context context) {\n        File cacheDir = StorageUtils.getCacheDirectory(context);  //缓存文件夹路径\n        ImageLoaderConfiguration config = new ImageLoaderConfiguration.Builder(context)\n                .memoryCacheExtraOptions(480, 800) // default = device screen dimensions 内存缓存文件的最大长宽\n                //.memoryCache(new LruMemoryCache(2 * 1024 * 1024)) //可以通过自己的内存缓存实现\n                //.memoryCache(new WeakMemoryCache())\n                .memoryCacheSize(2 * 1024 * 1024)  // 内存缓存的最大值\n                .memoryCacheSizePercentage(13) // default\n\n                .diskCacheSize(50 * 1024 * 1024) // 50 Mb sd卡(本地)缓存的最大值\n                .diskCacheFileCount(100)  // 可以缓存的文件数量\n                // default为使用HASHCODE对UIL进行加密命名， 还可以用MD5(new Md5FileNameGenerator())加密\n                .diskCacheFileNameGenerator(new HashCodeFileNameGenerator())\n                //.diskCacheExtraOptions(480, 800, null)  // 本地缓存的详细信息(缓存的最大长宽)，最好不要设置这个\n\n                .threadPoolSize(3) // default  线程池内加载的数量\n                .threadPriority(Thread.NORM_PRIORITY - 2) // default 设置当前线程的优先级\n                .denyCacheImageMultipleSizesInMemory()\n                .imageDownloader(new BaseImageDownloader(context)) // default\n                .defaultDisplayImageOptions(DisplayImageOptions.createSimple()) // default\n                .writeDebugLogs() // 打印debug log\n                .build(); //开始构建\n        return config;\n    }\n\n    //Image-loader框架显示图片的配置参数\n    public static DisplayImageOptions product_options = new DisplayImageOptions.Builder()\n            .showImageOnLoading(R.drawable.image_loading) // 设置图片下载期间显示的图片\n            .showImageForEmptyUri(R.drawable.image_empty) // 设置图片Uri为空或是错误的时候显示的图片\n            .showImageOnFail(R.drawable.image_error) // 设置图片加载或解码过程中发生错误显示的图片\n            .resetViewBeforeLoading(false)  // default 设置图片在加载前是否重置、复位\n            .delayBeforeLoading(1000)  // 下载前的延迟时间\n            .cacheInMemory(false) // default  设置下载的图片是否缓存在内存中\n            .cacheOnDisk(false) // default  设置下载的图片是否缓存在SD卡中\n            .considerExifParams(false) // default\n            .imageScaleType(ImageScaleType.IN_SAMPLE_POWER_OF_2) // default 设置图片以如何的编码方式显示\n            .bitmapConfig(Bitmap.Config.ARGB_8888) // default 设置图片的解码类型\n            .displayer(new SimpleBitmapDisplayer()) // default  还可以设置圆角图片new RoundedBitmapDisplayer(20)\n            .handler(new Handler()) // default\n            .build();\n    public static DisplayImageOptions user_options = new DisplayImageOptions.Builder()\n            .showImageOnLoading(R.drawable.image_loading) // 设置图片下载期间显示的图片\n            .showImageForEmptyUri(R.drawable.face_default) // 设置图片Uri为空或是错误的时候显示的图片\n            .showImageOnFail(R.drawable.face_default) // 设置图片加载或解码过程中发生错误显示的图片\n            .resetViewBeforeLoading(false)  // default 设置图片在加载前是否重置、复位\n            .delayBeforeLoading(1000)  // 下载前的延迟时间\n            .cacheInMemory(false) // default  设置下载的图片是否缓存在内存中\n            .cacheOnDisk(false) // default  设置下载的图片是否缓存在SD卡中\n            .considerExifParams(false) // default\n            .imageScaleType(ImageScaleType.IN_SAMPLE_POWER_OF_2) // default 设置图片以如何的编码方式显示\n            .bitmapConfig(Bitmap.Config.ARGB_8888) // default 设置图片的解码类型\n            .displayer(new SimpleBitmapDisplayer()) // default  还可以设置圆角图片new RoundedBitmapDisplayer(20)\n            .handler(new Handler()) // default\n            .build();\n\n    /**\n     * 缩放类型mageScaleType:\n     EXACTLY :图像将完全按比例缩小的目标大小\n     EXACTLY_STRETCHED:图片会缩放到目标大小完全\n     IN_SAMPLE_INT:图像将被二次采样的整数倍\n     IN_SAMPLE_POWER_OF_2:图片将降低2倍，直到下一减少步骤，使图像更小的目标大小\n     NONE:图片不会调整\n     */\n    /**\n     *  显示方式displayer：\n     RoundedBitmapDisplayer（int roundPixels）设置圆角图片\n     FakeBitmapDisplayer（）这个类什么都没做\n     FadeInBitmapDisplayer（int durationMillis）设置图片渐显的时间\n     SimpleBitmapDisplayer()正常显示一张图片\n     */\n}\n```\n\n+ MyApplication\n```java\npackage com.huatec.edu.mobileshop.common;\n\nimport android.app.Application;\nimport android.content.Context;\n\n//import com.huatec.edu.mobileshop.db.GreenDaoManager;\n//import com.huatec.edu.mobileshop.http.HttpMethods;\n\n/**\n * Created by Administrator on 2016/8/15.\n */\npublic class MyApplication extends Application {\n    private static Context mContext;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        mContext = getApplicationContext();\n        //greenDao全局配置\n//        GreenDaoManager.getInstance();\n\n        //全局配置image-loader\n        ImageLoaderManager.getInstance();\n\n        //全局配置Retrofit\n//        HttpMethods.getInstance();\n    }\n\n    public static Context getContext() {\n        return mContext;\n    }\n}\n```\n\n### 引导页\n> 引导页这里设计一个进度条动画，从左到右，动画结束跳转广告页\n\n![splash](/images/Android/mobileshop/frame/splash.jpg?size=300x600)\n\n+ 引导页布局 activity_splash.xml\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".activity.SplashActivity\"\n        android:background=\"@drawable/splash_bg\">\n\n\n    <ImageView\n            android:id=\"@+id/splash_logo\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_alignParentStart=\"true\"\n            android:layout_alignParentTop=\"true\"\n            android:layout_alignParentEnd=\"true\"\n            android:layout_marginStart=\"72.5dp\"\n            android:layout_marginTop=\"512dp\"\n            android:layout_marginEnd=\"72.5dp\"\n            app:srcCompat=\"@drawable/splash_logo\" />\n\n    <RelativeLayout\n            android:id=\"@+id/relativeLayout1\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_below=\"@id/splash_logo\"\n            android:layout_centerHorizontal=\"true\"\n            android:layout_marginTop=\"50dp\" >\n\n        <ImageView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_centerInParent=\"true\"\n                android:src=\"@drawable/splash_loading_bg\" />\n\n        <ImageView\n                android:id=\"@+id/splash_loading_item\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_alignParentLeft=\"true\"\n                android:src=\"@drawable/splash_loading_item\" />\n    </RelativeLayout>\n\n</RelativeLayout>\n```\n\n+ 进度条动画 splash_loading.xml\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<translate xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:duration=\"1000\"\n        android:fromXDelta=\"0.0\"\n        android:interpolator=\"@android:anim/accelerate_decelerate_interpolator\"\n        android:toXDelta=\"60%p\"\n        android:fillAfter=\"true\" />\n```\n\n+ 进度条从左到右动画 push_left_in.xml、push_left_out.xml\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<set xmlns:android=\"http://schemas.android.com/apk/res/android\">\n\t<translate android:fromXDelta=\"100%\" android:toXDelta=\"0\"\n\t\tandroid:duration=\"600\" />\n</set>\n```\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<set xmlns:android=\"http://schemas.android.com/apk/res/android\">\n\t<translate android:fromXDelta=\"0\" android:toXDelta=\"-100%\"\n\t\tandroid:duration=\"600\" />\n</set>\n```\n\n+ SplashActivity\n```java\npackage com.huatec.edu.mobileshop.activity;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.view.animation.Animation;\nimport android.view.animation.AnimationUtils;\nimport android.widget.ImageView;\n\nimport com.huatec.edu.mobileshop.R;\n\npublic class SplashActivity extends AppCompatActivity {\n    private ImageView mSplashItem_iv;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_splash);\n        //去掉顶部标题\n        getSupportActionBar().hide();\n        initView();\n    }\n    private void initView() {\n        mSplashItem_iv = findViewById(R.id.splash_loading_item);\n        Animation translate = AnimationUtils.loadAnimation(this, R.anim.splash_loading);\n\n        translate.setAnimationListener(new Animation.AnimationListener() {\n            @Override\n            public void onAnimationStart(Animation animation) {\n            }\n\n            @Override\n            public void onAnimationEnd(Animation animation) {\n                startActivity(new Intent(SplashActivity.this, AdActivity.class));\n                overridePendingTransition(R.anim.push_left_in, R.anim.push_left_out);\n                finish();\n            }\n\n            @Override\n            public void onAnimationRepeat(Animation animation) {\n            }\n        });\n        mSplashItem_iv.setAnimation(translate);\n    }\n}\n```\n\n### 广告页\n> 广告页这里设计从网络加载图片，三秒跳转主页，点击跳过直接跳转主页\n\n![广告页](/images/Android/mobileshop/frame/ad.jpg?size=300x600)\n+ activity_ad.xml\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".activity.AdActivity\"\n        android:orientation=\"vertical\">\n\n        <ImageView\n                android:id=\"@+id/ad_image\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:src=\"@drawable/ad\"\n                android:layout_gravity=\"center\" />\n\n    <Button\n            android:id=\"@+id/skip_button\"\n            android:layout_width=\"50dip\"\n            android:layout_height=\"30dp\"\n            android:layout_gravity=\"right\"\n            android:layout_marginBottom=\"5dip\"\n            android:layout_marginRight=\"5dip\"\n            android:layout_marginTop=\"5dip\"\n            android:background=\"#FFFFFF\"\n            android:gravity=\"center\"\n            android:paddingLeft=\"5dip\"\n            android:paddingRight=\"5dip\"\n            android:text=\"跳过\"\n            android:textSize=\"12.0sp\"/>\n\n</FrameLayout>\n```\n\n+ AdActivity\n```java\npackage com.huatec.edu.mobileshop.activity;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.graphics.Bitmap;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageView;\n\nimport com.huatec.edu.mobileshop.R;\nimport com.huatec.edu.mobileshop.common.Constants;\nimport com.huatec.edu.mobileshop.common.ImageLoaderManager;\nimport com.nostra13.universalimageloader.core.ImageLoader;\nimport com.nostra13.universalimageloader.core.assist.FailReason;\nimport com.nostra13.universalimageloader.core.listener.ImageLoadingListener;\n\npublic class AdActivity extends AppCompatActivity {\n    private ImageView adImage;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_ad);\n        //去掉顶部标题\n        getSupportActionBar().hide();\n\n        adImage = findViewById(R.id.ad_image);\n        //加载广告图\n        loadAd(Constants.AD_URL);\n\n    }\n\n    private void loadAd(String url) {\n        ImageLoader.getInstance().displayImage(url, adImage,\n                ImageLoaderManager.product_options, new ImageLoadingListener() {\n            @Override\n            public void onLoadingStarted(String imageUri, View view) {\n\n            }\n\n            @Override\n            public void onLoadingFailed(String imageUri, View view, FailReason failReason) {\n                //直接跳转\n                skip();\n            }\n\n            @Override\n            public void onLoadingComplete(String imageUri, View view, Bitmap loadedImage) {\n                adImage.setImageBitmap(loadedImage);\n                //倒数3秒跳转\n                timer();\n            }\n\n            @Override\n            public void onLoadingCancelled(String imageUri, View view) {\n\n            }\n        });\n    }\n\n    //过3秒后跳转\n    private void timer() {\n        final Handler handler = new Handler() {\n            @Override\n            public void handleMessage(Message msg) {\n                super.handleMessage(msg);\n                if (msg.what == -1)\n                    skip();\n            }\n        };\n\n        new Thread() {\n            @Override\n            public void run() {\n                try {\n                    Thread.sleep(Constants.AD_TIME_SECOND);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                handler.sendEmptyMessage(-1);\n            }\n        }.start();\n    }\n\n    /**\n     * 跳过\n     */\n    private void skip() {\n        startActivity(new Intent(AdActivity.this, MainActivity.class));\n    }\n}\n```","tags":["Android","MobileShop"],"categories":["Android","MobileShop"]},{"title":"学习过程中遇到的各种问题解决","url":"/2020/04/20/Problems-Solve/problems-solve/","content":"## 本篇博客的用意\n在学习过程中，我们肯定会遇到各种各样的问题，有的可能会自动消失，有的会让我们焦头烂额\n此篇博客收集了我最近遇到的一些问题和解决的办法，可能并不适用每个人，但也具有一定的代表性\n问题主要是关于Android、大数据处理、虚拟机、IntelliJ IDEA\n\n### 不定期更新(2020.5.12更新)\n+ 之前运维和大数据主虚拟机都是用的一个虚拟机，最近大数据配置Hive需要MySQL，由于之前运维安装的是Mysql8.0.11，大数据需要Mysql5.x\n+ 搞了半天一大堆问题，第二天才发现是因为需要的Mysql版本不同，导致步步都有问题，所以大部分都是关于Linux下Mysql的问题\n\n## Android\n\n+ [Android Studio 启动项目出现unsupported modules detected](https://blog.csdn.net/qq_30552993/article/details/83383095)\n\n+ [Static interface methods are only supported starting with Android N (–min-api 24): void butterknife](https://blog.csdn.net/wx_lanyu/article/details/85164771)\n\n+ [Android studio配置Flutter教程，解决creating flutter project长时间卡停](https://blog.csdn.net/Ericpengjun/article/details/901075095)\n\n+ [Flutter报错之Waiting for another flutter command to release the startup lock解决方案](https://blog.csdn.net/u010358168/article/details/84826707)\n\n+ [Android 9.0使用WebView加载Url时，显示页面无法加载](https://blog.csdn.net/longxuanzhigu/article/details/90649005)\n\n+ [void android.widget.TextView.setText(java.lang.CharSequence)’ on a null object reference](https://blog.csdn.net/donkor_/article/details/77140672),后来发现绑定的id写错了，导致传的空值\n\n\n## Linux\n\n### Mysql\n+ [Linux安装mysql-8.0.12-linux-glibc2.12-x86_64.tar.xz](https://blog.csdn.net/qq_29485643/article/details/82020257)\n\n+ [CentOS7中mysql-8.0.13-linux-glibc2.12-x86_64的安装](https://blog.csdn.net/qq_38741963/article/details/84376808)\n\n+ [mysql 5.7.12—-bin/mysqld –initialize –user=mysql出错](https://www.cnblogs.com/tuhooo/p/5441947.html)\n\n+ [mysql报错Can’t connect to local MySQL server through socket ‘/usr/local/mysql/mysql/mysql.sock’ (2)](https://blog.csdn.net/wt1286331074/article/details/90207805)\n\n+ [mysql在linux下的my.cnf文件在哪里！](https://blog.csdn.net/newb921/article/details/5178011)\n\n+ [解决Centos7.4无法启动mysql异常](https://blog.csdn.net/wender/article/details/80942800)\n\n+ [重启linux系统后 启动mysql ERROR! The server quit without updating PID file /var/run/mysqld/mysqld.pid](https://blog.csdn.net/qq_19484963/article/details/88859653)\n\n+ [mysqld_safe Directory ‘/var/lib/mysql’ for UNIX socket file don’t exists.](https://blog.csdn.net/qq_32331073/article/details/76229420)\n\n+ [mysql-创建用户报错ERROR 1396 (HY000): Operation CREATE USER failed for ‘XXXX’@’XXXX’](https://blog.csdn.net/u011575570/article/details/51438841)\n\n+ [新版SQL授权用户时报错 near ‘IDENTIFIED BY ‘密码’ with grant option’ at line 1](https://blog.csdn.net/vin_1991216/article/details/82632710)\n\n+ [解决ERROR 2002 (HY000): Can’t connect to local MySQL server through socket ‘/tmp/mysql.sock’ (2)](https://blog.csdn.net/a1173537204/article/details/88069724)\n\n+ [下载Mysql-connector-java驱动包](https://blog.csdn.net/TheBestAge/article/details/89817040?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-1&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-1)\n\n+ [JDBC连接MySQL报错Unknown system variable ‘query_cache_size’](https://blog.csdn.net/qq_21870555/article/details/80711187)\n\n+ [Unable to load authentication plugin ‘caching_sha2_password’.错误](https://www.cnblogs.com/wanguncle/p/11432868.html)\n\n+ [CENTOS下如何卸载用RPM安装的MYSQL](https://www.cnblogs.com/dearxixi/p/6813577.html)\n\n### Network\n+ [Job for network.service failed because the control process exited with error code问题](https://www.cnblogs.com/unrecognized/p/11517888.html)\n\n### Hive\n+ [Hive 遇到 Class path contains multiple SLF4J bindings](https://www.cnblogs.com/Jesse-Li/p/7809485.html)\n\n+ [Hive:Unable to open a test connection to the given database. JDBC url = jdbc:mysql://master12:3306](https://blog.csdn.net/kerry_55/article/details/80285518)\n\n+ [hive安装完成后遇到的问题](https://www.iteye.com/blog/511930751-1571092)\n\n+ [Hive安装中元数据初始化遇到的坑](https://blog.csdn.net/Sven119/article/details/90666518)\n\n### 其他\n+ [Linux软件安装中RPM与YUM 区别和联系](https://www.cnblogs.com/LiuChunfu/p/8052890.html)\n\n+ [linux下切换用户出现This account is currently not available](https://www.cnblogs.com/gcgc/p/10297373.html)\n\n+ [linux中以.d结尾的目录](https://www.cnblogs.com/liyuanhong/p/12005784.html)\n\n## 大数据处理\n+ [一起学Hadoop——使用IDEA编写第一个MapReduce程序(Java和Python)](https://www.cnblogs.com/airnew/p/9540982.html)\n\n+ [File /input/data.txt.COPYING could only be replicated to 0 nodes instead of minReplication (=1)](https://blog.csdn.net/hewsonchen/article/details/89436021)\n\n+ [put: File /data/word.txt.COPYING could only be replicated to 0 nodes inste](https://blog.csdn.net/qq_28513801/article/details/89477620)，这个和上面那个差不多，当时我用的上面那个解决的问题，主要是因为格式化次数太多，导致clusterID不一致\n\n\n## IntelliJ IDEA\n+ [java.lang.UnsupportedClassVersionError class file version 53 52.0](https://blog.csdn.net/ruoge2007/article/details/79746054/)\n\n## 虚拟机\n+ [另一个程序已锁定文件的一部分，进程无法访问 打不开磁盘“D:\\ubuntu\\Ubuntu 64 位.vmdk”或它所依赖的某个快照磁盘。 模块“Disk”启动失败。 未能启动虚拟机。](https://blog.csdn.net/weixin_43666051/article/details/104734939)\n\n+ [SecureCRT无法连接VMWare Linux虚拟机问题解决](https://blog.csdn.net/r1142/article/details/81000966?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-2&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-2)","tags":["Problems-Solve"],"categories":["Problems-Solve"]},{"title":"Android开发：登录界面（用SharedPreferences方式存储）","url":"/2020/04/11/Android/android-login-sp/","content":"## 效果图\n> 填入正确的用户名和密码\n\n![填写信息](/images/Android/login-sp/true.jpg?size=300x600)\n> 跳转到登录成功界面\n\n![登录成功](/images/Android/login-sp/success.jpg?size=300x600)\n> 填入错误的用户名和密码\n\n![错误](/images/Android/login-sp/error.jpg?size=300x600)\n> 提示用户名和密码不符\n\n![提示错误](/images/Android/login-sp/fail.jpg?size=300x600)\n\n## 开始实现\n> 要求：\n编写一个登录界面和一个登录成功界面, 结合自己的登录界面中的输入内容,将其用SharedPreferences方式存储,并且在登录的时候做一下逻辑判断进行数据比较，只有数据一致之后才能跳转到登录成功界面,否则做相应的错误提示\n\n### 登录页面布局\n> 根据需求设计登录界面activity_main.xml，这里用到了两个ImageView、两个EditText和一个Button按钮\n```xml\n <?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:background=\"@drawable/back\"\n        tools:context=\".MainActivity\">\n\n    <EditText\n            android:id=\"@+id/usr\"\n            android:layout_width=\"250dp\"\n            android:layout_height=\"40dp\"\n            android:layout_marginTop=\"60dp\"\n            android:background=\"@null\"\n            android:hint=\"请输入用户名\"\n            android:imeOptions=\"actionSend\"\n            android:inputType=\"text\"\n            android:padding=\"5dp\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.38\"\n            app:layout_constraintStart_toEndOf=\"@+id/imageView3\"\n            app:layout_constraintTop_toTopOf=\"parent\" />\n\n    <EditText\n            android:id=\"@+id/pwd\"\n            android:layout_width=\"250dp\"\n            android:layout_height=\"40dp\"\n            android:layout_marginTop=\"10dp\"\n            android:background=\"@null\"\n            android:hint=\"请输入密码\"\n            android:imeOptions=\"actionSend\"\n            android:inputType=\"text\"\n            android:padding=\"5dp\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.38\"\n            app:layout_constraintStart_toEndOf=\"@+id/imageView4\"\n            app:layout_constraintTop_toBottomOf=\"@+id/usr\" />\n\n    <Button\n            android:id=\"@+id/login\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"44dp\"\n            android:text=\"登录\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.5\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/pwd\" />\n\n    <ImageView\n            android:id=\"@+id/imageView3\"\n            android:layout_width=\"40dp\"\n            android:layout_height=\"40dp\"\n            android:layout_marginStart=\"30dp\"\n            android:layout_marginTop=\"60dp\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:srcCompat=\"@drawable/usr\" />\n\n    <ImageView\n            android:id=\"@+id/imageView4\"\n            android:layout_width=\"40dp\"\n            android:layout_height=\"40dp\"\n            android:layout_marginStart=\"30dp\"\n            android:layout_marginTop=\"10dp\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/imageView3\"\n            app:srcCompat=\"@drawable/pwd\" />\n\n\n</androidx.constraintlayout.widget.ConstraintLayout>\n```\n\n### 数据判断能否登录\n> 在MainActivity中先将正确的用户名和密码用SharedPreferences方式存储，再和自己的登录界面中的输入内容做一下逻辑判断进行数据比较\n如果符合，跳转到登录成功界面，否则提示错误\n```java\n package com.huatec.edu.hw8avtivity;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n    EditText usr;\n    EditText pwd;\n    Button login;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        usr = findViewById(R.id.usr);\n        pwd = findViewById(R.id.pwd);\n        login = findViewById(R.id.login);\n\n        login.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                //1.获取SharedPreferences对象\n                SharedPreferences sharedPreferences = getSharedPreferences(\"user\",MODE_PRIVATE);\n                //2.获取Editor对象\n                SharedPreferences.Editor editor = sharedPreferences.edit();\n                //3.写数据\n                editor.putString(\"user_name\",\"tian\");\n                editor.putString(\"pass_word\",\"18\");\n                //4.提交数据\n                editor.apply();\n                //5.通过键读取数据\n                String user_name = sharedPreferences.getString(\"user_name\",null);\n                String pass_word = sharedPreferences.getString(\"pass_word\",null);\n\n                String username = usr.getText().toString();\n                String password = pwd.getText().toString();\n                if(user_name.equals(username) && pass_word.equals(password)) {\n                    Intent intent = new Intent(MainActivity.this,Main2Activity.class);\n                    startActivity(intent);\n                } else {\n                    Toast.makeText(getApplicationContext(),\"用户名或密码不符\",Toast.LENGTH_LONG).show();\n                }\n            }\n        });\n\n    }\n}\n```\n### 登录成功界面\n> activity_main2.xml\n```xml\n <?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".Main2Activity\">\n\n    <TextView\n            android:id=\"@+id/textView\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"登录成功\"\n            android:textSize=\"25sp\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\" />\n</androidx.constraintlayout.widget.ConstraintLayout>\n```\n\n> Main2Activity\n```java\n package com.huatec.edu.hw8avtivity;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\n\npublic class Main2Activity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n    }\n}\n```","tags":["Android","登录"],"categories":["Android"]},{"title":"Android开发：帧动画,补间动画和属性动画的使用","url":"/2020/04/10/Android/android_anim/","content":"本文参考：二哥[cjpnice原博客](https://cjpnice.gitee.io/2020/04/08/Android-Animation/)\n## 帧动画\n\n+ 效果图\n![帧动画](/images/Android/anim/z.gif?size=300x600)\n\n> 在drawable中新建资源文件frame_anim.xml，使用animation-list定义动画，animation-list定义的动画将顺次从上往下显示item内的图片，设置oneshot=false则反复循环执行，true则执行一次\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<animation-list android:oneshot=\"false\" xmlns:android=\"http://schemas.android.com/apk/res/android\">\n    <item\n            android:drawable=\"@drawable/anim_1\"\n            android:duration=\"100\"/>\n    <item\n            android:drawable=\"@drawable/anim_2\"\n            android:duration=\"100\"/>\n    <item\n            android:drawable=\"@drawable/anim_3\"\n            android:duration=\"100\"/>\n    <item\n            android:drawable=\"@drawable/anim_4\"\n            android:duration=\"100\"/>\n\n</animation-list>\n```\n\n> 在layout布局文件activity_frame_anim中使用ImageView，将上一步写好的动画通过src或background引用\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".FrameAnimActivity\">\n\n    <ImageView\n        android:id=\"@+id/frame_image\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"@drawable/frame_anim\"/>\n\n</LinearLayout>\n```\n\n> 在FrameAnimActivity中启动动画\n\n```java\npackage com.huatec.edu.demoactivity;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.graphics.drawable.AnimationDrawable;\nimport android.os.Bundle;\nimport android.widget.ImageView;\n\npublic class FrameAnimActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_frame_anim);\n        ImageView imageView = findViewById(R.id.frame_image);\n        imageView.setImageResource(R.drawable.frame_anim);\n        AnimationDrawable animationDrawable = (AnimationDrawable)imageView.getDrawable();\n        animationDrawable.start();\n    }\n}\n```\n\n## 补间动画(视图动画)\n\n### 淡入淡出动画（Alpha）,缩放动画(Scale),位移动画(Translate),旋转动画(Roate)\n\n+ 效果图\n![补间动画](/images/Android/anim/b.gif?size=300x600)\n\n#### 在res目录下新建anim资源目录，并在anim中分别新建动画资源文件\n\n+ alpha_anim.xml\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<set xmlns:android=\"http://schemas.android.com/apk/res/android\">\n    <alpha\n            android:duration=\"2000\"\n            android:fromAlpha=\"1.0\"\n            android:toAlpha=\"0.0\" />\n\n</set>\n```\n\n+ scale_anim.xml\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<set xmlns:android=\"http://schemas.android.com/apk/res/android\">\n    <scale\n            android:fromXScale=\"0.0\"\n            android:toXScale=\"1.5\"\n            android:fromYScale=\"0.2\"\n            android:toYScale=\"1.5\"\n            android:pivotX=\"50\"\n            android:pivotY=\"50\"\n            android:duration=\"2000\" />\n\n</set>\n```\n\n+ translate_anim.xml\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<set xmlns:android=\"http://schemas.android.com/apk/res/android\">\n    <translate\n            android:duration=\"3000\"\n            android:fromXDelta=\"0\"\n            android:fromYDelta=\"0\"\n            android:repeatCount=\"infinite\"\n            android:toXDelta=\"200\"\n            android:toYDelta=\"200\"/>\n\n</set>\n```\n\n+ roate_anim.xml\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<set xmlns:android=\"http://schemas.android.com/apk/res/android\">\n    <rotate\n            android:fromDegrees=\"0\"\n            android:toDegrees=\"-650\"\n            android:pivotX=\"50%\"\n            android:pivotY=\"50%\"\n            android:duration=\"3000\"\n            android:fillAfter=\"true\">\n    </rotate>\n\n</set>\n```\n\n#### 在layout布局文件activity_main.xml中放入一个ImageView，和4个Button按钮用来显示和切换动画\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".MainActivity\">\n\n    <ImageView\n            android:id=\"@+id/test\"\n            android:layout_width=\"240dp\"\n            android:layout_height=\"240dp\"\n            android:layout_marginTop=\"152dp\"\n            android:src=\"@drawable/test\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.514\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            tools:ignore=\"MissingConstraints\" />\n\n    <Button\n            android:id=\"@+id/button1\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginBottom=\"16dp\"\n            android:text=\"Alpha\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            tools:ignore=\"MissingConstraints\" />\n\n    <Button\n            android:id=\"@+id/button2\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginBottom=\"16dp\"\n            android:text=\"Scale\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintStart_toEndOf=\"@+id/button1\"\n            tools:ignore=\"MissingConstraints\" />\n\n    <Button\n            android:id=\"@+id/button3\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginBottom=\"16dp\"\n            android:text=\"Translate\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintStart_toEndOf=\"@+id/button2\"\n            tools:ignore=\"MissingConstraints\" />\n\n    <Button\n            android:id=\"@+id/button4\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"4dp\"\n            android:layout_marginBottom=\"16dp\"\n            android:text=\"Roate\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintStart_toEndOf=\"@+id/button3\"\n            tools:ignore=\"MissingConstraints\" />\n\n</androidx.constraintlayout.widget.ConstraintLayout>\n```\n\n#### 在MainActivity中实现切换，加载并开启动画\n```java\npackage com.huatec.edu.hw7avtivity;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.animation.Animation;\nimport android.view.animation.AnimationUtils;\nimport android.widget.Button;\nimport android.widget.ImageView;\n\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Button alpha = findViewById(R.id.button1);\n        Button scale = findViewById(R.id.button2);\n        Button translate = findViewById(R.id.button3);\n        Button roate = findViewById(R.id.button4);\n        alpha.setOnClickListener(this);\n        scale.setOnClickListener(this);\n        translate.setOnClickListener(this);\n        roate.setOnClickListener(this);\n    }\n\n    @Override\n    public void onClick(View v) {\n        switch (v.getId()) {\n            case R.id.button1:setAnimation(R.anim.alpha_anim);\n            break;\n            case R.id.button2:setAnimation(R.anim.scale_anim);\n            break;\n            case R.id.button3:setAnimation(R.anim.translate_anim);\n            break;\n            case R.id.button4:setAnimation(R.anim.roate_anim);\n            break;\n\n        }\n    }\n\n    private void setAnimation(int ResourceId) {\n        Animation animation = AnimationUtils.loadAnimation(this,ResourceId);\n        ImageView imageView = findViewById(R.id.test);\n        imageView.startAnimation(animation);\n    }\n\n    }\n```\n\n## 属性动画\n\n### 实现边先小后大边摇晃的动画效果\n\n+ 效果图\n![属性动画](/images/Android/anim/s.gif?size=300x600)\n\n#### 在layout布局文件activity_shake_anim.xml中放入一个ImageView用来显示动画\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".ShakeAnimActivity\">\n    <ImageView\n            android:id=\"@+id/shake\"\n            android:layout_width=\"240dp\"\n            android:layout_height=\"240dp\"\n            android:layout_marginTop=\"152dp\"\n            android:src=\"@drawable/test\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.514\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            tools:ignore=\"MissingConstraints\" />\n\n</androidx.constraintlayout.widget.ConstraintLayout>\n```\n\n#### 在ShakeAnimActivity中实现切换，加载并开启动画\n```java\npackage com.huatec.edu.hw7avtivity;\n\nimport android.animation.AnimatorSet;\nimport android.animation.ObjectAnimator;\nimport android.animation.ValueAnimator;\nimport android.os.Bundle;\nimport android.view.animation.Animation;\nimport android.view.animation.CycleInterpolator;\nimport android.view.animation.RotateAnimation;\nimport android.widget.ImageView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class ShakeAnimActivity extends AppCompatActivity {\n\n    ImageView imageView;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_shake_anim);\n        imageView=findViewById(R.id.shake);\n        initAnimation();\n    }\n    //缩放\n    private void initAnimation(){\n        final AnimatorSet scaleAnimSet = new AnimatorSet();\n        imageView.setPivotX(imageView.getWidth()+250);\n        imageView.setPivotY(imageView.getWidth()+250);\n        scaleAnimSet.playTogether(\n                ObjectAnimator.ofFloat(imageView,\"scaleX\",0,1).setDuration(2000),\n                ObjectAnimator.ofFloat(imageView,\"scaleY\",0,1).setDuration(2000));\n        scaleAnimSet.start();\n        imageView.setAnimation(shakeAnim(6));\n    }\n    public static Animation shakeAnim(int counts) {\n        Animation rotateAnimation = new RotateAnimation(0, 20, Animation.RELATIVE_TO_SELF, 0.5f, Animation.RELATIVE_TO_SELF, 0.5f);\n        rotateAnimation.setInterpolator(new CycleInterpolator(counts));\n        rotateAnimation.setRepeatCount(-1);\n        rotateAnimation.setDuration(3000);\n        return rotateAnimation;\n    }\n}\n```\n\n## 推荐一个学习Android的好地方\n[菜鸟教程](https://www.runoob.com/w3cnote/android-tutorial-intro.html)","tags":["Android","动画"],"categories":["Android"]},{"title":"Android开发：利用Fragment,ListView和RecyclerView综合实现微信界面","url":"/2020/04/08/Android/android-wechat/","content":"本文参考：二哥[cjpnice原博客](https://cjpnice.gitee.io/2020/04/04/Android-WeChat/)\n## 效果展示\n![聊天界面](/images/Android/WeChat/WeChat.jpg?size=300x600)\n![通讯录](/images/Android/WeChat/People.jpg?size=300x600)\n![发现](/images/Android/WeChat/Find.jpg?size=300x600)\n![我](/images/Android/WeChat/Me.jpg?size=300x600)\n\n## 功能实现分析：\n> 要实现功能主要包括两个部分\n1.底部4个Tab，当点击不同Tab时，Tab图片变换形式，内容显示不同Fragment\n2.各个界面的Fragment，用来显示内容，具体每个Fragment中可以使用ListView和RecyclerView来填充。\n\n>> 界面显示内容布局可根据需求调整。\n\n## 首先搭建主体框架\n### 在activity_main中布局微信的主题部分，分别用两个线性布局将界面分为两个部分，上部分用来放内容，下部分用来放四个Tab\n\n+ activity_main.xml\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<RelativeLayout \nxmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".MainActivity\">\n\n    <LinearLayout\n            android:id=\"@+id/content_layout\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"703dp\"\n            android:orientation=\"vertical\">\n    </LinearLayout>\n\n    <LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"55dp\"\n            android:orientation=\"horizontal\"\n            android:layout_alignParentBottom=\"true\">\n        <ImageView\n                android:id=\"@+id/wechat\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"55dp\"\n                android:layout_weight=\"1\"\n                android:src=\"@drawable/wechat\"/>\n        <ImageView\n                android:id=\"@+id/people\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"55dp\"\n                android:layout_weight=\"1\"\n                android:src=\"@drawable/people\"/>\n        <ImageView\n                android:id=\"@+id/find\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"55dp\"\n                android:layout_weight=\"1\"\n                android:src=\"@drawable/find\"/>\n        <ImageView\n                android:id=\"@+id/me\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"55dp\"\n                android:layout_weight=\"1\"\n                android:src=\"@drawable/me\"/>\n    </LinearLayout>\n\n</RelativeLayout>\n```\n\n### 创建四个用来填充内容的布局，在布局文件中布局好样式\n\n+ wechat.xml\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout \nxmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:orientation=\"vertical\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\">\n\n    <androidx.constraintlayout.widgetConstraintLayout  \n    \n            android:layout_height=\"60dp\"\n            android:layout_width=\"match_parent\"\n            android:background=\"#ededed\">\n\n        <TextView\n                android:id=\"@+id/textView4\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"微信\"\n                android:textSize=\"20sp\"\n                android:textColor=\"#000000\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintHorizontal_bias=\"0.05\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\" />\n\n        <ImageView\n                android:id=\"@+id/imageView8\"\n                android:layout_width=\"26dp\"\n                android:layout_height=\"30dp\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintHorizontal_bias=\"0.8\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:srcCompat=\"@drawable/search\" />\n\n        <ImageView\n                android:id=\"@+id/imageView7\"\n                android:layout_width=\"23dp\"\n                android:layout_height=\"28dp\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintStart_toEndOf=\"@+id/imageView8\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:srcCompat=\"@drawable/add\" />\n\n    </androidx.constraintlayout.widget.ConstraintLayout>\n    <androidx.recyclerview.widget.RecyclerView\n            android:id=\"@+id/recycler_view\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"/>\n</LinearLayout>\n```\n\n+ people.xml\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout \nxmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:orientation=\"vertical\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\">\n    <androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_height=\"60dp\"\n            android:layout_width=\"match_parent\"\n            android:background=\"#ededed\">\n\n        <TextView\n                android:id=\"@+id/textView3\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"通讯录\"\n                android:textColor=\"#000000\"\n                android:textSize=\"20sp\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintHorizontal_bias=\"0.05\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\" />\n\n        <ImageView\n                android:id=\"@+id/imageView5\"\n                android:layout_width=\"26dp\"\n                android:layout_height=\"26dp\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintHorizontal_bias=\"0.8\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:srcCompat=\"@drawable/search\" />\n\n        <ImageView\n                android:id=\"@+id/imageView6\"\n                android:layout_width=\"23dp\"\n                android:layout_height=\"23dp\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintStart_toEndOf=\"@+id/imageView5\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:srcCompat=\"@drawable/add\" />\n    </androidx.constraintlayout.widget.ConstraintLayout>\n\n    <androidx.recyclerview.widget.RecyclerView\n            android:id=\"@+id/list_recycler_view\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\" />\n\n</LinearLayout>\n```\n\n+ find.xml\n```xml\n<sss>\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:orientation=\"vertical\"\n        android:layout_width=\"match_parent\" \n        android:layout_height=\"match_parent\">\n\n    <androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_height=\"60dp\"\n            android:layout_width=\"match_parent\"\n            android:background=\"#ededed\">\n\n        <TextView\n                android:id=\"@+id/textView3\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"发现\"\n                android:textColor=\"#000000\"\n                android:textSize=\"20sp\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintHorizontal_bias=\"0.05\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\" />\n\n        <ImageView\n                android:id=\"@+id/imageView5\"\n                android:layout_width=\"26dp\"\n                android:layout_height=\"26dp\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintHorizontal_bias=\"0.8\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:srcCompat=\"@drawable/search\" />\n\n        <ImageView\n                android:id=\"@+id/imageView6\"\n                android:layout_width=\"23dp\"\n                android:layout_height=\"23dp\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintStart_toEndOf=\"@+id/imageView5\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:srcCompat=\"@drawable/add\" />\n    </androidx.constraintlayout.widget.ConstraintLayout>\n\n    <androidx.recyclerview.widget.RecyclerView\n            android:id=\"@+id/find_recycler_view\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\" />\n</LinearLayout>\n</sss>\n```\n\n+ me.xml\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\">\n\n    <androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"157dp\"\n            android:layout_marginBottom=\"10dp\"\n            android:background=\"#ffffff\"\n            android:orientation=\"horizontal\">\n\n        <ImageView\n                android:id=\"@+id/imageView\"\n                android:layout_width=\"63dp\"\n                android:layout_height=\"58dp\"\n                android:layout_marginStart=\"24dp\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintHorizontal_bias=\"0.0\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:layout_constraintVertical_bias=\"0.71\"\n                app:srcCompat=\"@drawable/head_sculpture\" />\n\n        <TextView\n                android:id=\"@+id/textView\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"好的\"\n                android:textColor=\"#000000\"\n                android:textSize=\"20sp\"\n                app:layout_constraintBottom_toBottomOf=\"@+id/imageView\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintHorizontal_bias=\"0.063\"\n                app:layout_constraintStart_toEndOf=\"@+id/imageView\"\n                app:layout_constraintTop_toTopOf=\"@+id/imageView\"\n                app:layout_constraintVertical_bias=\"0.0\" />\n\n        <TextView\n                android:id=\"@+id/textView2\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"微信号：A2605827434\"\n                app:layout_constraintBottom_toBottomOf=\"@+id/imageView\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintHorizontal_bias=\"0.1\"\n                app:layout_constraintStart_toEndOf=\"@+id/imageView\"\n                app:layout_constraintTop_toBottomOf=\"@+id/textView\"\n                app:layout_constraintVertical_bias=\"1.0\" />\n\n        <ImageView\n                android:id=\"@+id/imageView2\"\n                android:layout_width=\"20dp\"\n                android:layout_height=\"20dp\"\n                app:layout_constraintBottom_toBottomOf=\"@+id/textView2\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintHorizontal_bias=\"0.9\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:layout_constraintVertical_bias=\"1.0\"\n                app:srcCompat=\"@drawable/erweima\" />\n\n        <ImageView\n                android:id=\"@+id/imageView3\"\n                android:layout_width=\"15dp\"\n                android:layout_height=\"15dp\"\n                app:layout_constraintBottom_toBottomOf=\"@+id/imageView\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintHorizontal_bias=\"0.959\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:layout_constraintVertical_bias=\"1.0\"\n                app:srcCompat=\"@drawable/more\" />\n\n        <ImageView\n                android:id=\"@+id/imageView4\"\n                android:layout_width=\"30dp\"\n                android:layout_height=\"30dp\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintHorizontal_bias=\"0.958\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:layout_constraintVertical_bias=\"0.221\"\n                app:srcCompat=\"@drawable/camera\" />\n    </androidx.constraintlayout.widget.ConstraintLayout>\n\n    <ListView\n            android:id=\"@+id/me_list\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"551dp\" />\n\n</LinearLayout>\n```\n\n### 分别为四个内容界面创建Fragment,实现每个Fragment的内容。\n> 实现聊天界面\n\n+ 首先创建wechat_list.xml的布局文件，样式自行调整\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\">\n\n    <ImageView\n            android:id=\"@+id/image\"\n            android:layout_width=\"54dp\"\n            android:layout_height=\"52dp\"\n            android:layout_margin=\"10dp\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.0\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintVertical_bias=\"0.0\"\n            app:srcCompat=\"@drawable/me\" />\n\n    <TextView\n            android:id=\"@+id/name\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"10dp\"\n            android:text=\"TextView\"\n            android:textColor=\"#000000\"\n            android:textSize=\"17sp\"\n            app:layout_constraintBottom_toBottomOf=\"@+id/image\"\n            app:layout_constraintStart_toEndOf=\"@+id/image\"\n            app:layout_constraintTop_toTopOf=\"@+id/image\"\n            app:layout_constraintVertical_bias=\"0.07999998\" />\n\n    <TextView\n            android:id=\"@+id/content\"\n            android:layout_width=\"200dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"10dp\"\n            android:layout_marginTop=\"3dp\"\n            android:ellipsize=\"end\"\n            android:singleLine=\"true\"\n            android:text=\"TextView\"\n            android:textSize=\"15sp\"\n            app:layout_constraintBottom_toBottomOf=\"@+id/image\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.0\"\n            app:layout_constraintStart_toEndOf=\"@+id/image\"\n            app:layout_constraintTop_toBottomOf=\"@+id/name\"\n            app:layout_constraintVertical_bias=\"0.0\" />\n\n    <TextView\n            android:id=\"@+id/time\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"270dp\"\n            android:layout_marginLeft=\"270dp\"\n            android:text=\"TextView\"\n            app:layout_constraintBottom_toBottomOf=\"@+id/image\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.0\"\n            app:layout_constraintStart_toEndOf=\"@+id/image\"\n            app:layout_constraintTop_toTopOf=\"@+id/image\"\n            app:layout_constraintVertical_bias=\"0.0\" />\n</androidx.constraintlayout.widget.ConstraintLayout>\n```\n\n+ 创建WeChat的实体类\n```java\npackage com.huatec.edu.hw6avtivity;\n\npublic class WeChat {\n    private int id;\n    private String name;\n    private String context;\n    private String time;\n\n    public WeChat(int id, String name, String context, String time) {\n        this.id = id;\n        this.name = name;\n        this.context = context;\n        this.time = time;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getContext() {\n        return context;\n    }\n\n    public void setContext(String context) {\n        this.context = context;\n    }\n\n    public String getTime() {\n        return time;\n    }\n\n    public void setTime(String time) {\n        this.time = time;\n    }\n}\n```\n\n+ 创建WeChatAdapter,通过适配器，将要显示的数据，加载到页面中\n```java\npackage com.huatec.edu.hw6avtivity;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.List;\n\npublic class WeChatAdapter extends RecyclerView.Adapter<WeChatAdapter.ViewHolder> {\n    List<WeChat> wechats;\n\n    public WeChatAdapter(List<WeChat> wechats) {\n        this.wechats = wechats;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.wechat_list,null);\n        ViewHolder viewHolder = new ViewHolder(itemView);\n        return viewHolder;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        WeChat message = wechats.get(position);\n        holder.image.setImageResource(message.getId());\n        holder.name.setText(message.getName());\n        holder.content.setText(message.getContext());\n        holder.time.setText(message.getTime());\n    }\n\n    @Override\n    public int getItemCount() {\n        return wechats.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        ImageView image;\n        TextView name;\n        TextView content;\n        TextView time;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            image = itemView.findViewById(R.id.image);\n            name = itemView.findViewById(R.id.name);\n            content = itemView.findViewById(R.id.content);\n            time = itemView.findViewById(R.id.time);\n        }\n    }\n}\n\n```\n+ 在WeChatFragment中，显示创建好的视图\n```java\npackage com.huatec.edu.hw6avtivity;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.widget.DividerItemDecoration;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class WeChatFragment extends Fragment {\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.wechat,null);\n        List<WeChat> wechats = initData();\n        WeChatAdapter weChatAdapter = new WeChatAdapter(wechats);\n        LinearLayoutManager layoutManager = new LinearLayoutManager(getActivity());\n        RecyclerView recyclerView = view.findViewById(R.id.recycler_view);\n        recyclerView.addItemDecoration(new DividerItemDecoration(getActivity(),DividerItemDecoration.VERTICAL));\n        recyclerView.setLayoutManager(layoutManager);\n        recyclerView.setAdapter(weChatAdapter);\n        return view;\n    }\n\n    private List<WeChat> initData() {\n        List<WeChat> datas = new ArrayList<>();\n        datas.add(new WeChat(R.drawable.headsculpture1,\"Lisa\",\"今天天气真好，去放风筝吧\",\"19:21\"));\n        datas.add(new WeChat(R.drawable.headsculpture2,\"Jack\",\"看鬼灭之刃了吗\",\"12:07\"));\n        datas.add(new WeChat(R.drawable.headsculpture3,\"Tom\",\"okk\",\"昨天\"));\n        datas.add(new WeChat(R.drawable.headsculpture4,\"KiKi\",\"TheShy太顶了\",\"周四\"));\n        datas.add(new WeChat(R.drawable.headsculpture1,\"Lisa\",\"今天天气真好，去放风筝吧\",\"19:21\"));\n        datas.add(new WeChat(R.drawable.headsculpture2,\"Jack\",\"看鬼灭之刃了吗\",\"12:07\"));\n        datas.add(new WeChat(R.drawable.headsculpture3,\"Tom\",\"okk\",\"昨天\"));\n        datas.add(new WeChat(R.drawable.headsculpture4,\"KiKi\",\"TheShy太顶了\",\"周四\"));\n        datas.add(new WeChat(R.drawable.headsculpture1,\"Lisa\",\"今天天气真好，去放风筝吧\",\"19:21\"));\n        datas.add(new WeChat(R.drawable.headsculpture2,\"Jack\",\"看鬼灭之刃了吗\",\"12:07\"));\n        datas.add(new WeChat(R.drawable.headsculpture3,\"Tom\",\"okk\",\"昨天\"));\n        datas.add(new WeChat(R.drawable.headsculpture4,\"KiKi\",\"TheShy太顶了\",\"周四\"));\n        datas.add(new WeChat(R.drawable.headsculpture1,\"Lisa\",\"今天天气真好，去放风筝吧\",\"19:21\"));\n        datas.add(new WeChat(R.drawable.headsculpture2,\"Jack\",\"看鬼灭之刃了吗\",\"12:07\"));\n        datas.add(new WeChat(R.drawable.headsculpture3,\"Tom\",\"okk\",\"昨天\"));\n        datas.add(new WeChat(R.drawable.headsculpture4,\"KiKi\",\"TheShy太顶了\",\"周四\"));\n        return datas;\n    }\n}\n```\n\n> 实现通信录界面\n\n+ 首先创建people_list.xml的布局文件，样式自行调整\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.constraintlayout.widget.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:background=\"#ffffff\"\n        android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\">\n\n\n    <ImageView\n            android:id=\"@+id/list_image\"\n            android:layout_width=\"60dp\"\n            android:layout_height=\"60dp\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.0\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintVertical_bias=\"0.0\"\n            app:srcCompat=\"@drawable/xindepengyou\" />\n\n    <TextView\n            android:id=\"@+id/list_text\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"TextView\"\n            android:textColor=\"#000000\"\n            android:textSize=\"17sp\"\n            app:layout_constraintBottom_toBottomOf=\"@+id/list_image\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.07\"\n            app:layout_constraintStart_toEndOf=\"@+id/list_image\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintVertical_bias=\"0.515\" />\n</androidx.constraintlayout.widget.ConstraintLayout>\n```\n\n+ 创建People的实体类\n```java\npackage com.huatec.edu.hw6avtivity;\n\npublic class People {\n    private int imageId;\n    private String text;\n\n    public int getImageId() {\n        return imageId;\n    }\n\n    public void setImageId(int imageId) {\n        this.imageId = imageId;\n    }\n\n    public String getText() {\n        return text;\n    }\n\n    public void setText(String text) {\n        this.text = text;\n    }\n\n    public People(int imageId, String text) {\n        this.imageId = imageId;\n        this.text = text;\n    }\n}\n```\n\n+ 创建PeopleAdapter,通过适配器，将要显示的数据，加载到页面中\n```java\npackage com.huatec.edu.hw6avtivity;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.ListAdapter;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.List;\n\npublic class PeopleAdapter extends RecyclerView.Adapter<PeopleAdapter.ViewHolder> {\n    List<People> peopleLists;\n\n    public PeopleAdapter(List<People> peopleLists) {\n        this.peopleLists = peopleLists;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.people_list,parent,false);\n        PeopleAdapter.ViewHolder viewHolder = new PeopleAdapter.ViewHolder(itemView);\n        return viewHolder;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        People peopleList = peopleLists.get(position);\n        holder.list_image.setImageResource(peopleList.getImageId());\n        holder.list_text.setText(peopleList.getText());\n    }\n\n    @Override\n    public int getItemCount() {\n        return peopleLists.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        ImageView list_image;\n        TextView list_text;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            list_image = itemView.findViewById(R.id.list_image);\n            list_text = itemView.findViewById(R.id.list_text);\n        }\n    }\n}\n```\n\n+ 在PeopleFragment中，显示创建好的视图\n```java\npackage com.huatec.edu.hw6avtivity;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class PeopleFragment extends Fragment {\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.people,null);\n        List<People> peopleList = initData();\n        PeopleAdapter peopleAdapter = new PeopleAdapter(peopleList);\n        LinearLayoutManager layoutManager = new LinearLayoutManager(getActivity());\n        RecyclerView recyclerView = view.findViewById(R.id.list_recycler_view);\n        recyclerView.setLayoutManager(layoutManager);\n        recyclerView.setAdapter(peopleAdapter);\n        return view;\n    }\n\n    private List<People> initData() {\n        List<People> datas = new ArrayList<>();\n        datas.add(new People(R.drawable.xindepengyou,\"新的朋友\"));\n        datas.add(new People(R.drawable.qunliao,\"群聊\"));\n        datas.add(new People(R.drawable.biaoqian,\"标签\"));\n        datas.add(new People(R.drawable.gongzhonghao,\"公众号\"));\n        return datas;\n    }\n}\n```\n\n> 实现发现界面\n\n+ 首先创建find_list.xml的布局文件，样式自行调整\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.constraintlayout.widget.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_marginBottom=\"10dp\"\n        android:background=\"#ffffff\"\n        android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\">\n\n\n    <ImageView\n            android:id=\"@+id/find_image\"\n            android:layout_width=\"60dp\"\n            android:layout_height=\"60dp\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.0\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintVertical_bias=\"0.0\"\n            app:srcCompat=\"@drawable/pengyouquan\" />\n\n    <TextView\n            android:id=\"@+id/find_text\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"TextView\"\n            android:textColor=\"#000000\"\n            android:textSize=\"17sp\"\n            app:layout_constraintBottom_toBottomOf=\"@+id/find_image\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.059\"\n            app:layout_constraintStart_toEndOf=\"@+id/find_image\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintVertical_bias=\"0.515\" />\n\n    <ImageView\n            android:id=\"@+id/find_more\"\n            android:layout_width=\"20dp\"\n            android:layout_height=\"20dp\"\n            app:layout_constraintBottom_toBottomOf=\"@+id/find_image\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.95\"\n            app:layout_constraintStart_toStartOf=\"@+id/find_image\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:srcCompat=\"@drawable/more\" />\n</androidx.constraintlayout.widget.ConstraintLayout>\n```\n\n+ 创建Find的实体类\n```java\npackage com.huatec.edu.hw6avtivity;\n\npublic class Find {\n    private int imageId;\n    private String text;\n    private int more;\n\n    public Find(int imageId, String text, int more) {\n        this.imageId = imageId;\n        this.text = text;\n        this.more = more;\n    }\n\n    public int getImageId() {\n        return imageId;\n    }\n\n    public void setImageId(int imageId) {\n        this.imageId = imageId;\n    }\n\n    public String getText() {\n        return text;\n    }\n\n    public void setText(String text) {\n        this.text = text;\n    }\n\n    public int getMore() {\n        return more;\n    }\n\n    public void setMore(int more) {\n        this.more = more;\n    }\n}\n```\n\n+ 创建FindAdapter,通过适配器，将要显示的数据，加载到页面中\n```java\npackage com.huatec.edu.hw6avtivity;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.List;\n\npublic class FindAdapter extends RecyclerView.Adapter<FindAdapter.ViewHolder> {\n    List<Find> findList;\n\n    public FindAdapter(List<Find> findList) {\n        this.findList = findList;\n    }\n\n    @NonNull\n    @Override\n    public FindAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.find_list,parent,false);\n        FindAdapter.ViewHolder viewHolder = new FindAdapter.ViewHolder(itemView);\n        return viewHolder;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull FindAdapter.ViewHolder holder, int position) {\n        Find find = findList.get(position);\n        holder.imageId.setImageResource(find.getImageId());\n        holder.more.setImageResource(find.getMore());\n        holder.text.setText(find.getText());\n    }\n\n    @Override\n    public int getItemCount() {\n        return findList.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        ImageView imageId;\n        TextView text;\n        ImageView more;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            imageId = itemView.findViewById(R.id.find_image);\n            text = itemView.findViewById(R.id.find_text);\n            more = itemView.findViewById(R.id.find_more);\n        }\n    }\n}\n```\n\n+ 在FindFragment中，显示创建好的视图\n```java\npackage com.huatec.edu.hw6avtivity;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.widget.DividerItemDecoration;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class FindFragment extends Fragment {\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.find,null);\n        List<Find> findList = initData();\n        FindAdapter findAdapter = new FindAdapter(findList);\n        LinearLayoutManager layoutManager = new LinearLayoutManager(getActivity());\n        RecyclerView recyclerView = view.findViewById(R.id.find_recycler_view);\n        recyclerView.setLayoutManager(layoutManager);\n        recyclerView.setAdapter(findAdapter);\n        return view;\n    }\n\n    private List<Find> initData() {\n        List<Find> datas = new ArrayList<>();\n        datas.add(new Find(R.drawable.pengyouquan,\"朋友圈\",R.drawable.more));\n        datas.add(new Find(R.drawable.kanyikan,\"看一看\",R.drawable.more));\n        datas.add(new Find(R.drawable.xiaocengxu,\"小程序\",R.drawable.more));\n        return datas;\n    }\n}\n```\n\n> 实现关于我界面\n\n+ 首先创建me_list.xml的布局文件，样式自行调整\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginBottom=\"10dp\"\n        android:background=\"#ffffff\">\n\n    <ImageView\n            android:id=\"@+id/me_image\"\n            android:layout_width=\"60dp\"\n            android:layout_height=\"60dp\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.0\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:srcCompat=\"@drawable/zhifu\" />\n\n    <TextView\n            android:id=\"@+id/text\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"TextView\"\n            android:textColor=\"#000000\"\n            android:textSize=\"17sp\"\n            app:layout_constraintBottom_toBottomOf=\"@+id/me_image\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.079\"\n            app:layout_constraintStart_toEndOf=\"@+id/me_image\"\n            app:layout_constraintTop_toTopOf=\"@+id/me_image\" />\n\n    <ImageView\n            android:id=\"@+id/more\"\n            android:layout_width=\"20dp\"\n            android:layout_height=\"20dp\"\n            app:layout_constraintBottom_toBottomOf=\"@+id/me_image\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.926\"\n            app:layout_constraintStart_toEndOf=\"@+id/me_image\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:srcCompat=\"@drawable/more\" />\n</androidx.constraintlayout.widget.ConstraintLayout>\n```\n\n+ 创建Me的实体类\n```java\npackage com.huatec.edu.hw6avtivity;\n\npublic class Me {\n    private int imageId;\n    private String name;\n    private int more;\n\n    public Me(int imageId, String name, int more) {\n        this.imageId = imageId;\n        this.name = name;\n        this.more = more;\n    }\n\n    public int getImageId() {\n        return imageId;\n    }\n\n    public void setImageId(int imageId) {\n        this.imageId = imageId;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getMore() {\n        return more;\n    }\n\n    public void setMore(int more) {\n        this.more = more;\n    }\n}\n```\n\n+ 创建MeAdapter,通过适配器，将要显示的数据，加载到页面中\n```java\npackage com.huatec.edu.hw6avtivity;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\n\n\nimport java.util.List;\n\npublic class MeAdapter  extends ArrayAdapter<Me> {\n\n    private int resourceId;\n    public MeAdapter(@NonNull Context context, int resource, @NonNull List<Me> objects) {\n        super(context, resource, objects);\n        this.resourceId = resource;\n    }\n\n    @NonNull\n    @Override\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n        Me me = getItem(position);\n        View view;\n        ViewHolder viewHolder;\n        if(convertView == null){\n            view = LayoutInflater.from(getContext()).inflate(resourceId,parent,false);\n            viewHolder = new ViewHolder();\n            viewHolder.me_image = view.findViewById(R.id.me_image);\n            viewHolder.text = view.findViewById(R.id.text);\n            viewHolder.more = view.findViewById(R.id.more);\n            view.setTag(viewHolder);\n        }else{\n            view = convertView;\n            viewHolder = (ViewHolder)view.getTag();\n        }\n        viewHolder.me_image.setImageResource(me.getImageId());\n        viewHolder.text.setText(me.getName());\n        viewHolder.more.setImageResource(me.getMore());\n        return view;\n    }\n\n    class ViewHolder{\n        ImageView me_image;\n        TextView text;\n        ImageView more;\n    }\n}\n```\n\n+ 在MeFragment中，显示创建好的视图\n```java\npackage com.huatec.edu.hw6avtivity;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ListView;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MeFragment extends Fragment {\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.me,null);\n        final List<Me> datas = initDatas();\n        MeAdapter meAdapter = new MeAdapter(getActivity(),R.layout.me_list,datas);\n        ListView listView = view.findViewById(R.id.me_list);\n        listView.setAdapter(meAdapter);\n        return view;\n    }\n\n    private List<Me> initDatas() {\n        List<Me> datas = new ArrayList<>();\n        datas.add(new Me(R.drawable.zhifu,\"支付\",R.drawable.more));\n        datas.add(new Me(R.drawable.shouchang,\"收藏\",R.drawable.more));\n        datas.add(new Me(R.drawable.xiangce,\"相册\",R.drawable.more));\n        datas.add(new Me(R.drawable.kabao,\"卡包\",R.drawable.more));\n        datas.add(new Me(R.drawable.biaoqing,\"表情\",R.drawable.more));\n        datas.add(new Me(R.drawable.shezhi,\"设置\",R.drawable.more));\n        return datas;\n    }\n}\n```\n\n#### 在MainActivity中实现点击下方Tab，切换到对应的Fragment\n```java\npackage com.huatec.edu.hw6avtivity;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentTransaction;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ImageView;\n\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener {\n\n    private ImageView wechat;\n    private ImageView people;\n    private ImageView find;\n    private ImageView me;\n    private WeChatFragment weChatFragment;\n    private PeopleFragment peopleFragment;\n    private FindFragment findFragment;\n    private MeFragment meFragment;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        setContentView(R.layout.activity_main);\n        getSupportActionBar().hide();\n        init();\n    }\n\n    private void init() {\n        wechat = findViewById(R.id.wechat);\n        people = findViewById(R.id.people);\n        find = findViewById(R.id.find);\n        me = findViewById(R.id.me);\n        wechat.setOnClickListener(this);\n        people.setOnClickListener(this);\n        find.setOnClickListener(this);\n        me.setOnClickListener(this);\n        hideAllFrag();\n        if(weChatFragment==null){\n            weChatFragment = new WeChatFragment();\n        }\n        addFrag(weChatFragment);\n        wechat.setImageResource(R.drawable.wechat_on);\n    }\n\n    private void addFrag(Fragment fragment) {\n        FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\n        if(fragment!=null&&!fragment.isAdded()){\n            transaction.add(R.id.content_layout,fragment);\n        }\n        transaction.commit();\n        getSupportFragmentManager().beginTransaction().show(fragment).commit();\n    }\n\n    private void hideFrag(Fragment fragment) {\n        FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\n        if(fragment!=null&&fragment.isAdded()){\n            transaction.hide(fragment);\n\n        }\n        transaction.commit();\n    }\n\n    private void hideAllFrag() {\n        hideFrag(weChatFragment);\n        hideFrag(peopleFragment);\n        hideFrag(meFragment);\n        hideFrag(findFragment);\n    }\n\n    private void setImage(int flag){\n        switch (flag){\n            case 1:\n                wechat.setImageResource(R.drawable.wechat_on);\n                people.setImageResource(R.drawable.people);\n                find.setImageResource(R.drawable.find);\n                me.setImageResource(R.drawable.me);\n                break;\n            case 2:\n                wechat.setImageResource(R.drawable.wechat);\n                people.setImageResource(R.drawable.people_on);\n                find.setImageResource(R.drawable.find);\n                me.setImageResource(R.drawable.me);\n                break;\n            case 3:\n                wechat.setImageResource(R.drawable.wechat);\n                people.setImageResource(R.drawable.people);\n                find.setImageResource(R.drawable.find_on);\n                me.setImageResource(R.drawable.me);\n                break;\n            case 4:\n                wechat.setImageResource(R.drawable.wechat);\n                people.setImageResource(R.drawable.people);\n                find.setImageResource(R.drawable.find);\n                me.setImageResource(R.drawable.me_on);\n                break;\n        }\n    }\n\n    @Override\n    public void onClick(View v) {\n        hideAllFrag();\n        switch (v.getId()){\n            case R.id.wechat:\n                showWeChat();\n                break;\n            case R.id.people:\n                showPeople();\n                break;\n            case R.id.find:\n                showFind();\n                break;\n            case R.id.me:\n                showMe();\n                break;\n        }\n    }\n\n    private void showMe() {\n        if(meFragment==null){\n            meFragment = new MeFragment();\n        }\n        addFrag(meFragment);\n        setImage(4);\n    }\n\n    private void showFind() {\n        if(findFragment==null){\n            findFragment = new FindFragment();\n        }\n        addFrag(findFragment);\n        setImage(3);\n    }\n\n    private void showPeople() {\n        if(peopleFragment==null){\n            peopleFragment = new PeopleFragment();\n        }\n        addFrag(peopleFragment);\n        setImage(2);\n    }\n\n    private void showWeChat() {\n        if(weChatFragment==null){\n            weChatFragment = new WeChatFragment();\n        }\n        addFrag(weChatFragment);\n        setImage(1);\n    }\n\n\n}\n```\n\n### 到此就完成了","tags":["Android","WeChat"],"categories":["Android"]},{"title":"常见Linux操作命令","url":"/2020/04/06/Linux/linux-cmd/","content":"**本文中，例如 :set nu(显示行数)**\n**带有’:’的，均表示是在vi中，按Esc后输入的命令**\n\n> whoami\n查看当前登录的用户\n\n> pwd\n查看当前所在路径\n\n> mkdir test\n创建文件夹\nmkdir -p test/test1/test2\n递归创建目录\n\n> cat –全部显示\n\n> echo –创建文件，可以写入东西\necho “您好” > log.txt（覆盖文件内容）\necho “您好” >> log.txt（添加到文件末尾）\n\n> :set nu(显示行数)\n\n> man 查看命令解释\n\n> rm –删除文件\nrm -f 不询问直接删除\n删除全部文件\nrm *\nrm -f log 删除全部log开头的文件（log1，log2也可以删除）\n\n>> rm -r –删除文件夹\nrm -rf test* 删除全部test开头的文件及文件夹（test1，test2，test.java,test.class也可以删除）\n\n> tar –打包，解包（无压缩作用）\ntar -cvf test.tar test\ntar -xvf test.tar\n\n> gzip –压缩文件\ngzip -c log1.txt log2.txt log3.txt log4.txt > log.gz\ngunzip test.gz\n\n>> tar -zcvf test.tar.gz test(也可以压缩空间)（占用CPU少）\ngzip压缩单个文件好\ntar打包压缩整个目录好\ntar比gzip用的多得多\n\n> mv –移动文件\nmv test.tar test2\n\n> tail –查看日志记录\ntail -f 查看文件末尾新增内容\ntail -n 查看文件末尾n行内容\ntail test.txt 输出文件末尾部分\n\n> wc –查看文件有多少行\nwc -l log.txt\n\n> ln –创建文件链接\nln -s test/log.txt log\n\n> cp –复制文件或目录\ncp test/log.txt .（拷贝到当前目录）\ncp log.txt ..（拷贝到上级目录）\ncp -r test test2（拷贝test文件夹到test2）\n\n> find –递归地在层次目录中处理文件\nfind ./* -name “log*”（当前目录下的任何目录有名字log开头的文件）\nfind ./* -name “log*” |xargs ls -l（对所有查找出来的文件执行ls -l）\nfind ./* -user hadoop -name “log*” （查找hadoop用户log开头的文件）\n\n> vi –文本编辑器\ni –进入输入模式\nEsc –进入命令模式\nShift+A –光标定位在末尾，进入输入模式\n命令模式下 x 删除当前字符\nX 向前删除字符\nShift+X 向前删除字符\ndd –删除整行\n\n>> :$ 光标定位在最后一行\n:0 光标定位在第一行\n:n 光标定位在第n行\n:gg 光标定位在第一行\n:Shift+g 光标定位在最后一行\n:/abcd 光标定位在有abcd的那一行（有多行，按n）\n\n>>> :q退出\n:q!强制退出  \n:w保存  \n:wq保存退出\n\n> 权限\ncat /etc/group\n创建组 –groupadd admin\n删除组 –groupdel admin\n创建用户 –useradd -g admin dev\n删除组用户 –userdel -g admin dev\n修改用户组 –usermod -g root dev\n修改用户组 –gpasswd -a dev admin(将用户“dev”加入到“admin”组中)\n修改用户组 –gpasswd -d dev admin(将用户“dev”从“admin”组中删除)\n\n> 添加log读写执行权限（u-用户 g-组 o-其他）\n\n>> chmod u+r log\nchmod g+w log\nchmod o+x log\n取消log读写执行权限\nchmod -r log\nchmod -w log\nchmod -x log\n(chmod a+-rwx log)\nchown –修改文件用户\nchown -R hadoop log(修改log文件到hadoop用户)\n修改文件组\nchgrp -R admin test(修改test文件到admin组)\n\n> which\n\n> 查看mysql状态\nps -ef | grep mysql\n\n> hadoop命令\n\n>> hadoop fs\nhadoop fs -ls /\nhadoop fs -mkdir -p /test\nhadoop fs -ls\nhadoop fs -mkdir test\nhadoop fs -mv /test /test2\nhadoop fs -mv -r /test","tags":["Linux","虚拟机","操作命令"],"categories":["Linux"]},{"title":"Hello World","url":"/2020/04/01/Hello-World/hello-world/","content":"Welcome to [Hexo](https://hexo.io/)! <!-- more --> This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n"},{"title":"关于我自建博客的挣扎","url":"/2020/04/01/Notes/blog-notes/","content":"## 我的Blog的起因\n2020年4月1日，因特朗普病毒引起的美国新冠肺炎，不得不在家中上网课。这天，正在上着Android课，和大哥[IDforHYIT](https://idforhyit.coding.me/)扯皮，我写了个APP，想炫耀一番（~~滑稽~~）。\n\n后来就聊到建立自己的博客，起因是二哥[cjpnice](https://cjpnice.gitee.io/)建了个博客，然后被老师疯狂夸赞，还说考研复试可能会加印象分。这我可就动了心，加分，那不赶紧动起来，\n大哥[IDforHYIT](https://idforhyit.coding.me/)可是两年多前就已经有了博客，那不得去取取经。\n\n就这样，我开始部署自己的博客。\n\n## 开始搭建个人博客（Hexo）\n可以成功部署自己的博客，这里主要从[GitHub+Hexo搭建个人网站详细教程](https://zhuanlan.zhihu.com/p/26625249)、[Hexo-修改Hexo主题](https://www.jianshu.com/p/33bc0a0a6e90)、大哥[IDforHYIT](https://idforhyit.coding.me/)这里获取能量。\n我搭建博客，主要分为三部分\n+ 平坦区\n+ 绝望\n+ 嘚瑟\n\n### 前期准备（平坦区）\n#### GitHub创建个人仓库\n在[GitHub](https://github.com/)注册账号，点击Repositories旁边的New创建一个仓库。\n仓库名应该为：用户名.github.io 这个用户名使用你的GitHub帐号名称代替，这是固定写法（必须这样写，后来我就乱改仓库名，不能部署了。），比如我的仓库名为：weikido.github.io\n\n#### 安装Git\n#### 安装Node.js\n#### 安装Hexo\n#### 推送博客\n到这为止，简单的博客就已经搭建并推送完成。\n\n### 寻找心仪的主题，并配置（绝望）\n这里绝望，主演还是因为太菜了，以前未接触过Markdown语法，还有对花里胡哨比较执着，所以花费的时间太多太多。\n搭建博客的主要工作都完成了，在这里花费了太多时间且很多都是无用功，甚至还有负功。所以就觉得很绝望。\n所以，新手在找到心仪的主题时，一定要先找帮助文档。~~我恨啊~~\n\n#### 寻找主题\n可以先去Hexo官方那里瞅瞅，由于我对花里胡哨且使用比较执着，所以花费在寻找主题上的时间比较多。\n\n#### 根据自己的需求配置主题\n因为对Markdown语法过于陌生，所以前期自己摸索了大半天，上网找一些教程，收效甚微。后来还是直接对线大哥，才知道有帮助文档这个东东。后来就依葫芦画瓢，博客也开始花里胡哨且实用了起来。\n\n### 一切设置成功，绑定域名（嘚瑟）\n一切都设置好了之后，就开始想着买个域名解析到博客。\n由于我是双部署，coding在国内访问比较快，就解析到coding了。（~~这里吐槽一下coding给的二级域名不是以前那种仓库名设置成用户名，二级域名就是 用户名.coding.com~~）\n\n#### 现学现卖\n二哥用Android写了一个套壳app，进入app就是自己的博客，我也跟风搞了一个，~~哪个男孩不想拥有自己的APP呢~~，难度不大，就因为地址http少加了一个s（课上老师讲过，我给忘了）又鼓捣半天，我太难了。\n\n## 总结\n这次搭建博客，过程算是比较痛苦的，博客刚起步，这篇也花了很多次才完善好（~~现在还没写好~~）。目前也只能写一些没有啥技术含量的东西。\n过程加起来20多小时（~~因为菜~~），挺累的，第一次这样系统的做一件事情。不过也是值得的，学到了挺多东西，结果是好的嘛。\n学无止境，从第一次用C语言打印出”Hello World”开始，这一切都开始了。\n主要还是因为热爱吧，Love And Share 分享热爱。","tags":["Notes"],"categories":["Notes"]}]